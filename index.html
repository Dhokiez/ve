<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Special for You ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ff4d6d;
            --secondary: #ff8fa3;
            --glass: rgba(255, 255, 255, 0.15);
        }

        * { box-sizing: border-box; }
        body {
            margin: 0; padding: 0;
            font-family: 'Poppins', sans-serif;
            height: 100vh; overflow: hidden;
            display: flex; justify-content: center; align-items: center;
            background: #0f0c29;
        }

        .bg-blobs {
            position: absolute; width: 100%; height: 100%;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            z-index: 1;
        }

        .blob {
            position: absolute; width: 300px; height: 300px;
            background: var(--primary);
            filter: blur(80px); border-radius: 50%;
            opacity: 0.4; animation: move 20s infinite alternate;
        }

        @keyframes move {
            from { transform: translate(-10%, -10%); }
            to { transform: translate(100%, 80%); }
        }

        /* --- PERBAIKAN INPUT AGAR TULISAN TERBACA JELAS --- */
        #userAns {
            background: rgba(255, 255, 255, 0.2) !important; 
            border: 2px solid rgba(255, 255, 255, 0.4) !important;
            border-radius: 15px; 
            padding: 12px; 
            width: 100%; 
            color: #ffffff !important; /* Warna teks saat mengetik jadi putih */
            outline: none; 
            margin: 15px 0; 
            text-align: center;
            font-size: 1em;
            font-weight: 400;
        }

        /* Mengatur warna tulisan "Jawabannya apa hayo?" (Placeholder) */
        #userAns::placeholder {
            color: rgba(255, 255, 255, 0.8) !important; /* Putih terang, bukan abu-abu */
            opacity: 1; /* Supaya warnanya tidak pudar di beberapa browser */
        }
        /* ------------------------------------------------- */

        .container {
            position: relative; z-index: 10;
            width: 90%; max-width: 420px;
            padding: 30px; border-radius: 40px;
            background: var(--glass);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
            text-align: center;
        }

        .gift-container img {
            width: 130px; border-radius: 15px; margin-bottom: 15px;
        }

        #ngambek-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9);
            z-index: 2000; display: none; flex-direction: column;
            justify-content: center; align-items: center; color: white;
            text-align: center; padding: 20px;
        }

        .photo-wrap {
            position: relative; display: none; margin: 0 auto 20px;
            width: 150px; height: 150px;
        }
        .photo-wrap img {
            width: 100%; height: 100%; border-radius: 50%;
            object-fit: cover; border: 4px solid white;
            box-shadow: 0 0 30px var(--primary);
            animation: pulse 3s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 77, 109, 0.7); }
            70% { box-shadow: 0 0 30px 20px rgba(255, 77, 109, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 77, 109, 0); }
        }

        h2, h3 {
            font-family: 'Dancing Script', cursive;
            font-size: 2.2em; color: white; margin-bottom: 10px;
            background: linear-gradient(to right, #fff, var(--secondary));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        #letterBody {
            font-size: 0.95em; 
            color: rgba(255,255,255,0.95);
            line-height: 1.8; 
            text-align: left;
            margin-top: 15px; 
            display: none;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px; 
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-height: 250px; 
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--secondary) transparent;
        }

        #letterBody::-webkit-scrollbar { width: 5px; }
        #letterBody::-webkit-scrollbar-thumb { background: var(--secondary); border-radius: 10px; }

        .btn-group {
            display: flex; justify-content: center; gap: 15px; margin-top: 20px;
            position: relative; height: 50px;
            align-items: center;
        }

        button {
            background: linear-gradient(45deg, var(--primary), #ff758f);
            color: white; border: none; padding: 12px 25px;
            border-radius: 30px; font-weight: 600; cursor: pointer;
            box-shadow: 0 10px 20px rgba(255, 77, 109, 0.3); transition: 0.3s;
        }

        #noBtn { 
            background: #555; 
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            position: relative;
        }

        canvas { position: absolute; top: 0; left: 0; z-index: 5; pointer-events: none; }
        
        #overlay {
            position: fixed; inset: 0; background: #0f0c29;
            z-index: 1000; display: flex; flex-direction: column;
            justify-content: center; align-items: center; color: white;
        }

        .choco-btn {
            background: linear-gradient(45deg, #603813, #b2945e) !important;
            margin-top: 15px;
            display: none;
        }
    </style>
</head>
<body>

    <div class="bg-blobs">
        <div class="blob" style="top: 10%; left: 10%;"></div>
        <div class="blob" style="bottom: 10%; right: 10%; background: #23a6d5;"></div>
    </div>

    <canvas id="canvas"></canvas>

    <div id="overlay">
        <h1 style="font-family: 'Dancing Script'; font-size: 3em; text-align: center; padding: 0 20px;">Buat Kamu Yang Tersayang...</h1>
        <button onclick="startApp()">Klik untuk Membuka ‚ú®</button>
    </div>

    <div id="ngambek-overlay">
        <img src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExenpjNTBkeW9xdjFpenh1c3Y0MmhsMjVyeHVxcGxlbTl2ajZqZmp0YSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/fFa05KbZowXiEIyRse/giphy.gif" width="200" style="border-radius: 20px;">
        <h2 style="margin-top: 20px;">IH KOK GITU?! </h2>
        <p>Pilih "Yes" dong, masa gak mau parah sihh...üôÉ</p>
        <button onclick="tutupNgambek()">Balik</button>
    </div>

    <div class="container">
        <div id="quiz-section">
            <div class="gift-container">
                <img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExMGh0bjBsYWg5NTVydzVleXRpdGJoMXQ0ZG5ydmdrcTEwaXBrdXZpYyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/GJACwlJbtiWrYeWoqM/giphy.gif" alt="Cute Cat">
            </div>
            <h3>Tebak Tebakan dulu..</h3>
            <p style="color: #eee; font-size: 0.9em;">Apa bedanya kamu sama internet?</p>
            <input type="text" id="userAns" placeholder="Jawabannya apa hayo?">
            <button onclick="cekJawaban()">Cek Jawaban</button>
            <p id="hint" style="font-size: 0.8em; margin-top: 15px; color: var(--secondary);"></p>
        </div>

        <div id="choice-section" style="display: none;">
            <div class="gift-container">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExY25nMDBhOTR1Y2k0em04NWdndG44enl0Y3B5Y2VkODYxdGxlZ3NveiZlcD12MV9naWZzX3NlYXJjaCZjdD1n/IzXiddo2twMmdmU8Lv/giphy.gif" alt="Cute Choice">
            </div>
            <h3>Jawaban Benar! ‚ú®</h3>
            <p style="color: #eee;">Tapi yakin mau buka suratnya sekarang?</p>
            <div class="btn-group">
                <button onclick="showFinal()">Yes! ‚ù§Ô∏è</button>
                <button id="noBtn" onmouseover="moveNo()" onclick="marahEffect()">Gak Mau üòú</button>
            </div>
        </div>

        <div id="main-content" style="display: none;">
            <div class="photo-wrap" id="photoWrap">
                <img src="ve.jpg" alt="Sayang">
            </div>
            <div id="letterTitle"></div>
            <div id="letterBody"></div>
            <button id="chocoBtn" class="choco-btn" onclick="window.location.href='choco.html'">Nih Cokelat Buat Kamu üç´</button>
        </div>
    </div>

    <audio id="bgm" loop>
        <source src="lagu/Troye Sivan - Angel Baby.mp3" type="audio/mpeg">
    </audio>

<script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let particles = [];

    function initCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', initCanvas);
    initCanvas();

    class Heart {
        constructor(x, y) {
            this.x = x; this.y = y;
            this.size = Math.random() * 10 + 5;
            this.speedX = (Math.random() - 0.5) * 8;
            this.speedY = (Math.random() - 0.5) * 8;
            this.opacity = 1;
        }
        update() { this.x += this.speedX; this.y += this.speedY; this.opacity -= 0.01; }
        draw() {
            ctx.globalAlpha = this.opacity;
            ctx.fillStyle = "#ff4d6d"; ctx.beginPath();
            ctx.moveTo(this.x, this.y);
            ctx.bezierCurveTo(this.x-this.size, this.y-this.size, this.x-this.size*1.5, this.y+this.size/2, this.x, this.y+this.size);
            ctx.bezierCurveTo(this.x+this.size*1.5, this.y+this.size/2, this.x+this.size, this.y-this.size, this.x, this.y);
            ctx.fill();
        }
    }

    function explode() {
        for(let i=0; i<30; i++) particles.push(new Heart(window.innerWidth/2, window.innerHeight/2));
    }

    function animate() {
        ctx.clearRect(0,0,canvas.width, canvas.height);
        particles.forEach((p,i) => { p.update(); p.draw(); if(p.opacity<=0) particles.splice(i,1); });
        requestAnimationFrame(animate);
    }
    animate();

    function startApp() {
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('bgm').play();
    }

    function cekJawaban() {
        const val = document.getElementById('userAns').value.toLowerCase();
        if(val.includes("me") || val.includes("aku") || val.includes("for")){
            document.getElementById('quiz-section').style.display = 'none';
            document.getElementById('choice-section').style.display = 'block';
            explode();
        } else {
            document.getElementById('hint').innerText = "Clue: Kalau internet itu 4G, kalau kamu itu for...";
        }
    }

    function moveNo() {
        const noBtn = document.getElementById('noBtn');
        const moveRange = 80; 
        const x = (Math.random() - 0.5) * moveRange * 2;
        const y = (Math.random() - 0.5) * moveRange * 2;
        noBtn.style.transform = `translate(${x}px, ${y}px)`;
    }

    function marahEffect() {
        document.getElementById('ngambek-overlay').style.display = 'flex';
    }

    function tutupNgambek() {
        document.getElementById('ngambek-overlay').style.display = 'none';
        const noBtn = document.getElementById('noBtn');
        noBtn.style.transform = `translate(0px, 0px)`; 
    }

    function showFinal() {
        explode();
        document.getElementById('choice-section').style.display = 'none';
        document.getElementById('main-content').style.display = 'block';
        document.getElementById('photoWrap').style.display = 'block';
        document.getElementById('letterBody').style.display = 'block';
        
        const titleText = "I Love You! ‚ù§Ô∏è";
        const bodyText = "Happy Valentine's Day, Sayang! ‚ù§Ô∏è\n\nSemoga di hari yang penuh kasih sayang ini, kamu selalu bahagia, dan juga kita makin deket, makin saling mengerti satu sama lain, semoga setiap impian kita satu per satu bisa terwujud dengan cara yang terbaiküíï.\n\nSemangat terus menjalani harinya, aku bakal selalu support kamu‚ú®. Makasih ya udah nemenin aku sampai hari ini (14 Februari 2026). Kamu adalah hal paling estetik yang pernah ada di hidupku.\n\ndan Semoga kita terus bareng-bareng ya. I love you more than anything can't express‚ú®\n\nWleeeüòú";
        
        let j = 0;
        function typeTitle() {
            if(j < titleText.length) {
                document.getElementById('letterTitle').innerHTML += `<h2 style="display:inline">${titleText.charAt(j)}</h2>`;
                j++; setTimeout(typeTitle, 100);
            } else { typeBody(); }
        }

        let i = 0;
        function typeBody() {
            if(i < bodyText.length) {
                document.getElementById('letterBody').innerHTML += bodyText.charAt(i);
                document.getElementById('letterBody').scrollTop = document.getElementById('letterBody').scrollHeight;
                i++; setTimeout(typeBody, 45);
            } else {
                document.getElementById('chocoBtn').style.display = 'inline-block';
            }
        }
        typeTitle();
        setInterval(explode, 2000);
    }
</script>
</body>
</html>